{% extends "base.html" %}
{% load custom_filters %}
{% block title %}Cart{% endblock %}

{% block content %}
<h1>Your Shopping Cart</h1>

<style>
    /* Add CSS styles for flex container and items */
    .product-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .product-item {
        flex: 1;
        min-width: 200px; /* Set a minimum width to control the item size */
        max-width: 300px; /* Add a max-width to prevent the items from growing too much */
        margin: 10px;
        border: 1px solid #ccc;
        padding: 15px;
        text-align: center;
        background-color: #f9f9f9;
        border-radius: 5px;
    }

    /* Style the "Remove" button */
    .remove-button {
        display: inline-block;
        margin-top: 10px;
        background-color: #ff4d4d;
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    .remove-button:hover {
        background-color: #cc0000;
    }

    /* Style the "Continue Shopping" button */
    .continue-button {
        display: inline-block;
        margin-top: 20px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    .continue-button:hover {
        background-color: #0056b3;
    }

    /* Style the total price and other elements */
    p {
        font-size: 1.2rem;
        color: #333;
    }
</style>

<!-- Flex container for products -->
<ul class="product-list">
    {% if cart_items %}
    {% for item in cart_items %}
    {% if item.quantity != 0%}
    <li class="product-item">
        <p>Product: {{ item.product.color }} - Quantity: {{ item.quantity }} - Price: ${{ item.product.price }} - Total:
            ${{ item.product.price|floatformat:2|mul:item.quantity }}</p>
        <a href="{% url 'shop:remove_from_cart' item.id %}" class="remove-button">Remove</a>
    </li>
    {% endif %}
    {% endfor %}
    {% else %}
    <p>Your cart is empty.</p>
    {% endif %}
</ul>

<p>Total Price: ${{ total_price }}</p>
<a href="{% url 'shop:flowers' %}" class="continue-button">Continue Shopping</a>

{% endblock %}
